# 下一步开发计划（SLAIS 项目）

## 1. 主流程完善与自动化
- [ ] 完善 `main.py`，实现完整的端到端流程（PDF解析→元数据获取→图片分析→LLM分析→报告生成）。
- [ ] 增加命令行参数支持（如指定PDF路径、输出目录、分析选项等）。
- [ ] 支持批量处理多个PDF文件。

## 2. 测试体系建设
- [ ] 搭建 `tests/` 目录结构，区分单元测试与集成测试。
- [ ] 针对 `slais/pdf_utils.py`、`agents/llm_analysis_agent.py` 等核心模块编写基础单元测试。
- [ ] 引入 `pytest`、`pytest-mock`，实现API调用的mock，保证测试可重复、无外部依赖。
- [ ] 集成代码覆盖率工具（如 `pytest-cov`）。

## 3. 报告与输出优化
- [ ] 报告生成支持多格式（Markdown、HTML、PDF）。
- [ ] 优化图片路径、样式和相对引用，保证报告可移植性。
- [ ] 增加报告内容的可配置性（如选择输出哪些分析模块）。
- [ ] **美化Markdown报告格式**：  
      - 统一使用表格、折叠区域、分割线等结构化元素。
      - 增加目录、章节锚点、页眉页脚和LOGO等视觉元素。
      - 优化字体、配色、间距和层级，提升可读性。
      - 支持自定义CSS样式块，兼容Typora、Obsidian等主流Markdown阅读器。
- [ ] **增强交互性**：  
      - 支持折叠/展开详情（如方法学、创新点、问答等）。
      - 图片支持缩略图预览和点击放大。
      - Mermaid脑图自动格式化，保证在主流Markdown工具中可直接渲染。
- [ ] **可维护性与扩展性**：  
      - 报告生成逻辑模块化，便于后续扩展（如增加新分析模块）。
      - 支持多语言报告模板切换。
      - 输出结构与样式分离，便于主题定制。

## 4. LLM与API调用增强
- [ ] 支持多模型配置与切换（如Qwen、OpenAI、Claude等）。
- [ ] 增加LLM调用的异常处理、自动重试和降级策略。
- [ ] 记录和统计LLM调用的token消耗与成本。
- [ ] 支持token消耗与成本的可视化统计和报告输出。

## 5. 缓存与性能
- [ ] 完善 `CacheManager`，支持API响应和LLM分析结果的持久化缓存。
- [ ] 针对大文件和重复任务优化缓存命中率。
- [ ] 支持缓存清理和过期策略配置。

## 6. 用户体验与交互
- [ ] 增加进度条、日志输出和错误提示，提升用户体验。
- [ ] 设计简单的Web界面或CLI交互界面（可选，后续实现）。
- [ ] 支持任务队列和批量任务进度管理。

## 7. 文档与规范
- [ ] 完善开发文档和模块注释，保持中英文双语。
- [ ] 更新 `project.md`，同步架构、流程和最佳实践。
- [ ] 编写详细的环境部署和运行说明。
- [ ] 提供典型用例和FAQ文档。

## 8. 未来扩展预研
- [ ] 预研多语言支持与国际化。
- [ ] 规划知识图谱、可视化分析等高级功能。
- [ ] 关注新兴大模型API的集成可能性。
- [ ] 研究与学术搜索引擎、数据可视化平台的深度集成。

---

*请团队成员根据上述计划认领任务，及时同步进展。每阶段完成后，回顾总结并调整后续优先级。*
