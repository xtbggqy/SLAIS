# SLAIS 项目环境变量配置示例

# 本文件用于配置SLAIS项目的各项环境变量。

# --- API 密钥与基础配置 ---
# OpenAI 或兼容 API (如 DashScope 兼容模式)
OPENAI_API_KEY="sk-a71f5d1563cb42fa9ec68bcbc8fdeed8" # 您的API密钥 (例如 OpenAI API Key, DashScope API Key)
OPENAI_API_MODEL="qwen-turbo" # 默认文本模型名称 (例如 gpt-4o, gpt-3.5-turbo, qwen-turbo)
OPENAI_API_BASE_URL="https://dashscope.aliyuncs.com/compatible-mode/v1" # API端点 (OpenAI官方地址，或兼容API地址如 https://dashscope.aliyuncs.com/compatible-mode/v1)
OPENAI_TEMPERATURE="0.1" # 模型温度，控制输出的随机性 (0.0-1.0)

# 阿里云 DashScope API 密钥 (如果使用阿里云模型，优先于 OPENAI_API_KEY)
DASHSCOPE_API_KEY="sk-a71f5d1563cb42fa9ec68bcbc8fdeed8" 

# 图像理解大模型 API 配置 (如果使用独立的图像LLM，例如 Qwen-VL-Plus)
IMAGE_LLM_API_KEY="sk-a71f5d1563cb42fa9ec68bcbc8fdeed8" # 用于图片分析的API密钥
IMAGE_LLM_API_MODEL="qwen-vl-plus" # 用于图片分析的模型名称 (例如 qwen-vl-plus, gpt-4o)
IMAGE_LLM_API_BASE_URL="https://dashscope.aliyuncs.com/compatible-mode/v1" # 图片分析API端点 (如果与文本API不同)
IMAGE_LLM_TEMPERATURE="0.1" # 图片分析模型温度

# NCBI 配置 (用于PubMed API)
NCBI_EMAIL="ggss@gmail.com" # 您的邮箱地址 (NCBI API要求)

# Semantic Scholar API 配置
SEMANTIC_SCHOLAR_API_KEY="" # 您的Semantic Scholar API密钥 (可选, 但推荐以获取更高请求速率)

# --- 默认模型选择 (Web UI 中各API接口的默认模型，可根据偏好设置) ---
# 如果未设置，将使用 slais/config.py 中硬编码的默认值
DEFAULT_OPENAI_TEXT_MODEL="gpt-4o"
DEFAULT_GEMINI_TEXT_MODEL="gemini-1.5-pro-latest"
DEFAULT_XAI_TEXT_MODEL="grok-3"
DEFAULT_ALIYUN_TEXT_MODEL="qwen-turbo"
DEFAULT_DEEPSEEK_TEXT_MODEL="deepseek-chat"
DEFAULT_OPENROUTER_TEXT_MODEL="openrouter-auto"

DEFAULT_OPENAI_IMAGE_MODEL="gpt-4o"
DEFAULT_ALIYUN_IMAGE_MODEL="qwen-vl-plus"
DEFAULT_GEMINI_IMAGE_MODEL="gemini-pro-vision"
DEFAULT_XAI_IMAGE_MODEL="grok-2-vision-1212"

# --- 文档与路径配置 ---
# PDF路径配置
PDF_INPUT_DIR="pdfs" # 存放输入PDF文件的目录
DEFAULT_PDF_PATH="pdfs/darwin.pdf" # 未指定输入时默认处理的PDF文件路径

# 文章DOI配置 (重要：替换为实际要分析的文献DOI)
ARTICLE_DOI="10.1126/science.aao4593" 

# 输出目录配置
OUTPUT_BASE_DIR="output" # 分析结果的输出根目录
# MARKDOWN_SUBDIR="" # Markdown输出子目录名（如不设置则自动为 <PDF文件名>_markdown）

# 缓存配置
CACHE_DIR="cache" # 缓存文件存放目录
CACHE_EXPIRY_DAYS="30" # 缓存有效期 (天)

# 日志配置
LOG_LEVEL="INFO" # 日志级别 (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_DIR="logs" # 日志文件存放目录

# --- 分析参数配置 ---
MAX_CONTENT_CHARS_FOR_LLM=500000 # 传递给LLM进行分析的最大内容字符数 (根据模型上下文窗口调整)
MAX_QUESTIONS_TO_GENERATE=25 # LLM生成问答对的最大数量

# --- API 客户端高级配置 (通常无需修改) ---
# PubMed API
PUBMED_API_BASE_URL="https://eutils.ncbi.nlm.nih.gov/entrez/eutils/"
PUBMED_TOOL_NAME="slais_pubmed_client"
PUBMED_EFETCH_BATCH_SIZE="200"
PUBMED_REQUEST_TIMEOUT="45.0"
PUBMED_REQUEST_DELAY="0.35"
PUBMED_RETRY_COUNT="3"
RELATED_ARTICLES_YEARS_BACK="10" # 检索相关文献时回溯的年数
RELATED_ARTICLES_MAX="50" # 获取相关文章的最大数量

# Semantic Scholar API
SEMANTIC_SCHOLAR_API_BASE_URL="https://api.semanticscholar.org/graph/v1"
SEMANTIC_SCHOLAR_GRAPH_API_BASE_URL="https://api.semanticscholar.org/graph/v1"
SEMANTIC_SCHOLAR_API_BATCH_SIZE="25"
SEMANTIC_SCHOLAR_REQUEST_DELAY="0.2"
SEMANTIC_SCHOLAR_RETRY_COUNT="3"
SEMANTIC_SCHOLAR_TIMEOUT="30.0"
SEMANTIC_SCHOLAR_MAX_REFERENCES_PER_PAGE="100"
S2_REQUEST_TIMEOUT="45.0"
S2_CONN_LIMIT="10"
S2_RETRY_COUNT="3"
S2_BASE_RETRY_DELAY="2.0"
S2_JITTER_FACTOR="0.25"
S2_RATE_LIMIT_WITH_KEY="800"
S2_RATE_LIMIT_WITHOUT_KEY="120"
S2_RATE_LIMIT_BUFFER_FACTOR="0.8"
S2_DEFAULT_FIELDS="paperId,externalIds,url,title,abstract,venue,year,referenceCount,citationCount,influentialCitationCount,isOpenAccess,fieldsOfStudy,publicationTypes,authors,authors.name,authors.url"
S2_REFERENCES_FIELDS="citedPaper.externalIds"
S2_REFERENCES_LIMIT="1000"

# 全局默认请求超时时间 (秒)
DEFAULT_REQUEST_TIMEOUT="30.0"